<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>SIMG 해외여행자보험</title>
    <link rel="stylesheet" href="/css/bootstrap.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.7.1/font/bootstrap-icons.css">
    <script src="/js/bootstrap.bundle.js"></script>
    <script src="/js/jquery-3.7.0.js"></script>
    <link rel="stylesheet" href="/css/simgoti.css">
    <style>
        .cov-tab-div {
            background: #eee;
        }

        .cov-tab {
            background: #eee;
            border: none;
        }

        .cov-tab.selected {
            background: white;
            border: 1px solid #0a53be;
            border-bottom: 1px solid white;
            border-radius: 0.2rem 0.2rem 0 0;
            z-index: 1;
            margin-bottom: -1px;
        }

        .coverage-details {
            border: 1px solid #0a53be;
            padding: 1rem;
        }

        .table-container {
            margin: auto;
            width: 20rem;
            height: 100%;
            border: 1px solid #eee;
        }
    </style>
    <script>
        let startDate = sessionStorage.getItem("startDate") || null;
        let startTime = sessionStorage.getItem("startTime") || null;
        let endDate = sessionStorage.getItem("endDate") || null;
        let endTime = sessionStorage.getItem("endTime") || null;
        let clntBirth = sessionStorage.getItem("clntBirth") || null;
        let clntGen = sessionStorage.getItem("clntGen") || null;
        let trPlace = sessionStorage.getItem("trPlace") || null;

        let covCode = sessionStorage.getItem("covCode") || 10120102;
        let startDt;
        let endDt;

        // 보험 나이 구하는 함수
        function calculateInsAge(birth) {
            const yr = birth.substring(0, 4);
            const mth = birth.substring(4, 6);
            const dt = birth.substring(6, 8);
            let today = new Date();
            today.setHours(0, 0, 0, 0);
            const birthday = new Date(`${yr}-${mth}-${dt}`);
            const insAge = Math.round((today - birthday) / (365 * 24 * 60 * 60 * 1000));
            return insAge;
        }

        function isAllVarsNotNull() {
            let result = false;
            if (
                startDate != null &&
                startTime != null &&
                endDate != null &&
                endTime != null &&
                clntBirth != null &&
                clntGen != null &&
                trPlace != null
            ) {
                result = true;
            }
            return result;
        }




        $(document).ready(function () {

            let today = new Date();
            let todayStr = dateToStr(today);
            let after3mth = new Date(`${today.getFullYear()}-${numPadding2(today.getMonth() + 4)}-${today.getDate()-1}`);
            let after3mthStr = dateToStr(after3mth);
            let maxDate;

            // 여행출발일 최소일자를 오늘로, 최대일자를 3개월 후로 설정
            $("#start-date").attr("min",todayStr);
            $("#start-date").attr("max",after3mthStr);
            // 최초 sessionStorage에서 값을 가져와 변수에 저장하여 변수들이 null이 아닌경우 input 태그에 대입
            if (isAllVarsNotNull()) {
                $("#start-date").val(startDate);
                $("#start-time-pick").val(startTime);
                $("#start-time").val(startTime);
                $("#end-date").val(endDate);
                $("#end-time-pick").val(endTime);
                $("#end-time").val(endTime);
                $("#clntBirth").val(clntBirth);
                $("#clntGen-pick").val(clntGen);
                $("#clntGen").val(clntGen);
                $("#trPlace-text").val(trPlace);
                startDt = new Date(startDate + " " + startTime);
                endDt = new Date(endDate + " " + endTime);
                getPremiumAndCoverage();
            }

            // 나라 선택시 텍스트창에 넣고 변수 country에도 대입
            $("#trPlace-select").on("change", function () {
                const selected = $("#trPlace-select option:selected");
                trPlace = selected.text();
                $("#trPlace-text").val(trPlace);
            });

            // 출발일시, 종료일시 선택시 startDate, startTime, endDate, endTime에 값 넣기

            $("#start-date").on("input", function () {
                startDate = $(this).val();
                $("#end-date").val(null);
                $("#end-time").val(null);
                $("#end-time-pick").val(null);
                $("#start-time").val(null);

                $("#start-time-pick").empty();
                for (let i = 0; i < 24; i++) {
                    $("#start-time-pick").append("<option value='" + numPadding2(i) + ":00" + "'>" + numPadding2(i) + ":00" + "</option>")
                }

                if(startDate != ""){
                    // 여행종료일시 최대일자를 여행출발일시로부터 3개월 후로 설정
                    $("#end-date").attr("min",startDate);
                    maxDate = new Date(startDate);
                    maxDate.setMonth(maxDate.getMonth()+3);
                    const maxDateStr = dateToStr(maxDate);
                    $("#end-date").attr("max",maxDateStr);
                }

                if(startDate == todayStr){
                    // 선택한 날짜가 오늘일 때 선택가능한 최소시간을 시간단위로 지금보다 1시간 뒤부터 선택가능하도록 설정
                    let nowTime = dateTimeToStr(today).split(" ")[1].split(":")[0] + ":00";
                    $("#start-time-pick option").each(function(){
                        if($(this).val() <= nowTime){
                            $(this).remove();
                        }
                    });
                }
            });

            $("#start-time-pick").on("change", function () {
                startTime = $(this).val();
            });
            $("#end-date").on("change", function () {
                endDate = $(this).val();
                $("#end-time").val(null);
                $("#end-time-pick").val(null);

                let maxDateStr = dateToStr(maxDate);

                $("#end-time-pick").empty();
                for (let i = 0; i < 24; i++) {
                    $("#end-time-pick").append("<option value='" + numPadding2(i) + ":00" + "'>" + numPadding2(i) + ":00" + "</option>")
                }

                if(endDate == maxDateStr){
                    // 선택한 날짜가 보험 최대기간이 되는 일자일때 최대 시간을 선택한 여행출발시간으로 설정
                    let nowTime = dateTimeToStr(today).split(" ")[1].split(":")[0] + ":00";
                    $("#end-time-pick option").each(function(){
                        if($(this).val() > startTime){
                            $(this).remove();
                        }
                    });
                }
            });

            $("#end-time-pick").on("change", function () {
                endTime = $(this).val();
            });

            // 생년월일, 성별 입력시 값 저장
            $("#clntBirth").on("keyup", function () {
                clntBirth = $(this).val();
            });

            $("#clntGen-pick").on("change", function () {
                clntGen = $(this).val();
                const selected = $("#gender-pick option:selected");
                $("#gender").val(selected.text());
                sessionStorage.setItem("clntGen", clntGen);
            });

            // 보험료 확인을 위한 변수
            let covTabs = {};
            let covDetails = {};

            // 선택한 담보를 화면에 띄워주고 담보탭에 selected 클래스 추가하는 함수
            function selectCoverage(covCode) {
                let code = "10120102";
                if (covCode != null) {
                    code = covCode;
                }
                $("#tab-" + code).addClass("selected");
                $(".coverage-details").attr("hidden", "hidden");
                $("#detail-" + code).removeAttr("hidden");
            }

            // 보험료 계산 결과의 스크롤위치
            const height = $("#before-calculate").outerHeight() + 60;

            // 보험료 계산해서 화면에 띄우는 함수
            function getPremiumAndCoverage() {
                startDt = new Date(startDate + " " + startTime);
                endDt = new Date(endDate + " " + endTime);
                // 여행 일수 구하기
                const travelDay = Math.ceil((endDt - startDt) / (24 * 60 * 60 * 1000));

                $.ajax({
                    url: "/api/client/coverageList",
                    type: "GET",
                    data: {startDt: `${startDate} ${startTime}`, endDt: `${endDate} ${endTime}`},
                    success: (data) => {
                        // 유효하지 않은 데이터일경우 서버에서 "not ~" 보내기
                        // 유효한 경우 세션스토리지에 값 저장
                        // 요약칸 채우기
                        $("#summary").removeAttr("hidden");
                        $("#sum-period").text(travelDay + "일");
                        $("#sum-age").text(calculateInsAge(clntBirth));
                        $("#sum-clntGen").text($("#clntGen").val());
                        $("#sum-trPlace").text($("#trPlace-text").val());

                        // calculate-result 보이게
                        $(".calculate-result").removeAttr("hidden");
                        covTabs = data.coverageTabList;
                        coverageList = data.coverageList;

                        //  covDetails에 {10120101:{}, 10120102:{},... } 이런식으로 만들기
                        covTabs.map(function (covTab) {
                            covDetails[covTab.covCode] = {};
                        });

                        // 세부담보 채워서 {10120101:{1012010101:{covDNm:상해사망, covDAmt: 1000...},...},...} 이런식으로 만들기
                        coverageList.map(function (covDetail) {
                            const covCode = covDetail.covCode;
                            covDetails[covCode][covDetail.covDCode] = ({
                                covDNm: covDetail.covDNm,
                                covDAmt: covDetail.covDAmt
                            })
                        });

                        $("#cov-tabs").empty();
                        $(".coverage-details").remove();

                        // 담보 종류에따라 탭 리스트 추가, 세부담보를 표시하기위한 div 추가
                        for (idx in covTabs) {
                            // 담보 선택 탭
                            $("#cov-tabs").append(
                                "<div class='w-100 cov-tab-div'>" +
                                "<button id='tab-" + covTabs[idx].covCode + "' value='" + covTabs[idx].covCode + "' class='w-100 cov-tab'>" +
                                "<div>" + covTabs[idx].covNm + "</div>" +
                                "<div>" + putComma(covTabs[idx].totPremium) + "원</div>" +
                                "</button>" +
                                "</div>"
                            )
                            // 세부담보 ul태그
                            let hidden;
                            $(".coverage-list").append(
                                "<div id='detail-" + covTabs[idx].covCode + "' class='coverage-details' hidden='hidden'>" +
                                "<ul id='list-" + covTabs[idx].covCode + "' class='list-unstyled text-start'></ul>" +
                                "</div>"
                            )

                        }

                        // 세부담보 ul에 값 집어넣기
                        for (covKey in covDetails) {
                            for (covDKey in covDetails[covKey]) {
                                const covDNm = covDetails[covKey][covDKey]["covDNm"];
                                const covDAmt = covDetails[covKey][covDKey]["covDAmt"];
                                $("#list-" + covKey).append(
                                    "<li class='d-flex justify-content-between'>" +
                                    "<div class=''><span>" + covDNm + "</span></div>" +
                                    "<div class='text-end w-25'><span>" + numToKrUnit(covDAmt) + "원</span></div>" +
                                    "</li>"
                                );
                            }
                        }
                        selectCoverage(covCode);
                        moveScrollTop("#after-calculate");
                        $("#calculate-btn").attr("disabled", true);
                    },
                    error: (err) => {
                        console.log(err)
                    }
                });
            }

            // 보험료 확인버튼 클릭시
            $("#calculate-btn").on("click", function () {
                getPremiumAndCoverage();
            });

            // 문서의 모든 요소가 변할 때마다 동작
            $("html").on("change", function () {
                // 모두 입력했을때 로컬스토리지에 값 저장, 보험료확인 버튼 활성화, summary와 calculate-result 숨기기
                if (isAllVarsNotNull()) {
                    sessionStorage.setItem("startDate", startDate);
                    sessionStorage.setItem("startTime", startTime);
                    sessionStorage.setItem("endDate", endDate);
                    sessionStorage.setItem("endTime", endTime);
                    sessionStorage.setItem("clntBirth", clntBirth);
                    sessionStorage.setItem("trPlace", trPlace);

                    $("#calculate-btn").removeAttr("disabled");

                    $("#summary, .calculate-result").attr("hidden", "hidden");
                } else {
                    $("#calculate-btn").attr("disabled", "disabled");
                }
            });

            // 담보 탭 클릭시
            $(document).on("click", ".cov-tab", function () {
                $(".cov-tab").removeClass("selected");
                $(this).addClass("selected");
                const code = $(this).attr("id").split("-")[1];
                $(".coverage-details").attr("hidden", "hidden");
                $("#detail-" + code).removeAttr("hidden");
                covCode = $(this).val();
                sessionStorage.setItem("covCode", covCode);
                moveScrollTop("#after-calculate");
            });

            // 1인 가입 선택시
            $("#apply-alone").on("click", function () {
                if (
                    isAllVarsNotNull() &&
                    covCode != null
                ) {
                    sessionStorage.setItem("covCode", covCode);
                    location.href = "/simg/simgOti/applyAlone";
                    // const startDtStr = dateToStr(startDt);
                    // const endDtStr = dateToStr(endDt);
                }
            })

            // 2인 이상 가입 선택시
            $("#apply-many").on("click", function () {
                if (
                    isAllVarsNotNull() &&
                    covCode != null
                ) {
                    sessionStorage.setItem("covCode", covCode);
                    location.href = "/simg/simgOti/applyMany";
                }
            })

        });


    </script>
</head>
<body>
<div class="mainView d-flex flex-column text-center">
    <div id="header"></div>
    <div class="contentsView">
        <div id="tabs" class="tab-0"></div>
        <!-- 탭 아래 본문내용-->
        <div id="content">
            <div id="before-calculate">
                <!-- 여행 시작일-->
                <div class="text-start mb-3" id="travel-start">

                    <div class="d-flex justify-content-between">
                        <div class="w-50 d-flex justify-content-center align-items-center">
                            <span>여행 출발</span>
                        </div>
                        <div class="w-100">
                            <input type="date" class="form-control" id="start-date">
                        </div>
                        <div class="w-100 position-relative">
                            <input type="text" class="form-control time-input bg-white text-select" readonly
                                   placeholder="시간"
                                   name="start-time" id="start-time" value="">
                            <select id="start-time-pick"
                                    class="form-control position-absolute top-100 text-option time-pick" hidden size="5"
                                    style="z-index: 1">
                                <option value='00:00'>00:00</option>
                                <option value='01:00'>01:00</option>
                                <option value='02:00'>02:00</option>
                                <option value='03:00'>03:00</option>
                                <option value='04:00'>04:00</option>
                                <option value='05:00'>05:00</option>
                                <option value='06:00'>06:00</option>
                                <option value='07:00'>07:00</option>
                                <option value='08:00'>08:00</option>
                                <option value='09:00'>09:00</option>
                                <option value='10:00'>10:00</option>
                                <option value='11:00'>11:00</option>
                                <option value='12:00'>12:00</option>
                                <option value='13:00'>13:00</option>
                                <option value='14:00'>14:00</option>
                                <option value='15:00'>15:00</option>
                                <option value='16:00'>16:00</option>
                                <option value='17:00'>17:00</option>
                                <option value='18:00'>18:00</option>
                                <option value='19:00'>19:00</option>
                                <option value='20:00'>20:00</option>
                                <option value='21:00'>21:00</option>
                                <option value='22:00'>22:00</option>
                                <option value='23:00'>23:00</option>
                            </select>
                        </div>
                    </div>
                </div>
                <!--  여행 종료일-->
                <div class="text-start mb-3" id="travel-end">

                    <div class="d-flex justify-content-between">
                        <div class="w-50 d-flex justify-content-center align-items-center">
                            <span>여행 종료</span>
                        </div>
                        <div class="w-100">
                            <input type="date" class="form-control" id="end-date">
                        </div>
                        <div class="w-100 position-relative">
                            <input type="text" class="form-control time-input bg-white text-select" readonly
                                   placeholder="시간"
                                   name="end-time" id="end-time" value="">
                            <select id="end-time-pick"
                                    class="form-control position-absolute top-100 text-option time-pick"
                                    hidden size="5" style="z-index: 1">
                                <option value='00:00'>00:00</option>
                                <option value='01:00'>01:00</option>
                                <option value='02:00'>02:00</option>
                                <option value='03:00'>03:00</option>
                                <option value='04:00'>04:00</option>
                                <option value='05:00'>05:00</option>
                                <option value='06:00'>06:00</option>
                                <option value='07:00'>07:00</option>
                                <option value='08:00'>08:00</option>
                                <option value='09:00'>09:00</option>
                                <option value='10:00'>10:00</option>
                                <option value='11:00'>11:00</option>
                                <option value='12:00'>12:00</option>
                                <option value='13:00'>13:00</option>
                                <option value='14:00'>14:00</option>
                                <option value='15:00'>15:00</option>
                                <option value='16:00'>16:00</option>
                                <option value='17:00'>17:00</option>
                                <option value='18:00'>18:00</option>
                                <option value='19:00'>19:00</option>
                                <option value='20:00'>20:00</option>
                                <option value='21:00'>21:00</option>
                                <option value='22:00'>22:00</option>
                                <option value='23:00'>23:00</option>
                            </select>
                        </div>
                    </div>
                </div>
                <!-- 나이 성별 -->
                <div class="text-start mb-3" id="clntBirth-clntGen">
                    <div class="d-flex justify-content-between">
                        <div class="w-100">
                            <input type="text" class="form-control bg-white" id="clntBirth" name="clntBirth"
                                   placeholder="생년월일 8자리"
                                   maxlength="8">
                        </div>
                        <div class="w-100 text-select-div">
                            <input type="text" class="form-control bg-white text-select" readonly placeholder="성별"
                                   id="clntGen">
                            <select name="clntGen-pick" id="clntGen-pick"
                                    class="form-control text-option" hidden size="2"
                                    style="z-index: 1">
                                <option value="남자">남자</option>
                                <option value="여자">여자</option>
                            </select>
                        </div>
                    </div>
                </div>
                <!-- 여행지 선택 -->
                <div class="text-start mb-3" id="trPlace">
                    <div class="d-flex justify-content-between">
                        <div class="w-100">
                            <input type="text" placeholder="여행 국가 선택" id="trPlace-text" readonly
                                   class="show-popup form-control bg-white show-popup">
                            <div class="popup" hidden style="z-index: 1">
                                <div class="popup-content d-flex justify-content-center align-items-center">
                                    <select name="trPlace" id="trPlace-select" class="form-select mb-4" size="17">
                                        <optgroup label="주요 여행국가" id="freq">
                                            <option value='JP'>일본</option>
                                            <option value='ID'>인도네시아</option>
                                            <option value='SG'>싱가포르</option>
                                            <option value='US'>미국</option>
                                            <option value='GU'>괌</option>
                                            <option value='TW'>대만</option>
                                            <option value='PH'>필리핀</option>
                                            <option value='TH'>태국</option>
                                            <option value='VN'>베트남</option>
                                            <option value='FR'>프랑스</option>
                                        </optgroup>
                                        <optgroup label="전체 국가" id="others">
                                            <option value='GH'>가나</option>
                                            <option value='GA'>가봉</option>
                                            <option value='GY'>가이아나</option>
                                            <option value='GM'>감비아</option>
                                            <option value='GP'>과들루프</option>
                                            <option value='GT'>과테말라</option>
                                            <option value='GD'>그레나다</option>
                                            <option value='GR'>그리스</option>
                                            <option value='GL'>그린란드</option>
                                            <option value='GN'>기니</option>
                                            <option value='GW'>기니비사우</option>
                                            <option value='NA'>나미비아</option>
                                            <option value='NR'>나우루</option>
                                            <option value='NG'>나이지리아</option>
                                            <option value='AQ'>남극</option>
                                            <option value='ZA'>남아프리카 공화국</option>
                                            <option value='NL'>네덜란드</option>
                                            <option value='AN'>네덜란드령 안틸레스</option>
                                            <option value='NP'>네팔</option>
                                            <option value='NO'>노르웨이</option>
                                            <option value='NF'>노퍽섬</option>
                                            <option value='NC'>누벨칼레도니</option>
                                            <option value='NZ'>뉴질랜드</option>
                                            <option value='NU'>니우에</option>
                                            <option value='NE'>니제르</option>
                                            <option value='NI'>니카라과</option>
                                            <option value='KR'>대한민국</option>
                                            <option value='DK'>덴마크</option>
                                            <option value='DO'>도미니카 공화국</option>
                                            <option value='DM'>도미니카 연방</option>
                                            <option value='DE'>독일</option>
                                            <option value='TL'>동티모르</option>
                                            <option value='LA'>라오스</option>
                                            <option value='LR'>라이베리아</option>
                                            <option value='LV'>라트비아</option>
                                            <option value='RU'>러시아 연방</option>
                                            <option value='LB'>레바논</option>
                                            <option value='LS'>레소토</option>
                                            <option value='RE'>레위니옹</option>
                                            <option value='RO'>루마니아</option>
                                            <option value='LU'>룩셈부르크</option>
                                            <option value='RW'>르완다</option>
                                            <option value='LY'>리비아</option>
                                            <option value='LT'>리투아니아</option>
                                            <option value='LI'>리히텐슈타인</option>
                                            <option value='MG'>마다가스카르</option>
                                            <option value='MQ'>마르티니크</option>
                                            <option value='MH'>마셜 제도</option>
                                            <option value='YT'>마요트</option>
                                            <option value='MO'>마카오</option>
                                            <option value='MK'>마케도니아 공화국</option>
                                            <option value='MW'>말라위</option>
                                            <option value='MY'>말레이시아</option>
                                            <option value='ML'>말리</option>
                                            <option value='MX'>멕시코</option>
                                            <option value='MC'>모나코</option>
                                            <option value='MA'>모로코</option>
                                            <option value='MU'>모리셔스</option>
                                            <option value='MR'>모리타니</option>
                                            <option value='MZ'>모잠비크</option>
                                            <option value='MS'>몬트세랫</option>
                                            <option value='MD'>몰도바 공화국</option>
                                            <option value='MV'>몰디브</option>
                                            <option value='MT'>몰타</option>
                                            <option value='MN'>몽골</option>
                                            <option value='UM'>미국령 군소 제도</option>
                                            <option value='VI'>미국령 버진아일랜드</option>
                                            <option value='MM'>미얀마</option>
                                            <option value='FM'>미크로네시아 연방</option>
                                            <option value='VU'>바누아투</option>
                                            <option value='BH'>바레인</option>
                                            <option value='BB'>바베이도스</option>
                                            <option value='VA'>바티칸 시국</option>
                                            <option value='BS'>바하마</option>
                                            <option value='BD'>방글라데시</option>
                                            <option value='BM'>버뮤다</option>
                                            <option value='BJ'>베냉</option>
                                            <option value='VE'>베네수엘라</option>
                                            <option value='BE'>벨기에</option>
                                            <option value='BY'>벨라루스</option>
                                            <option value='BZ'>벨리즈</option>
                                            <option value='BA'>보스니아 헤르체고비나</option>
                                            <option value='BW'>보츠와나</option>
                                            <option value='BO'>볼리비아</option>
                                            <option value='BI'>부룬디</option>
                                            <option value='BF'>부르키나파소</option>
                                            <option value='BV'>부베섬</option>
                                            <option value='BT'>부탄</option>
                                            <option value='MP'>북마리아나 제도</option>
                                            <option value='BG'>불가리아</option>
                                            <option value='BR'>브라질</option>
                                            <option value='BN'>브루나이</option>
                                            <option value='WS'>사모아</option>
                                            <option value='SA'>사우디아라비아</option>
                                            <option value='GS'>사우스조지아 사우스샌드위치 제도</option>
                                            <option value='SM'>산마리노</option>
                                            <option value='ST'>상투메 프린시페</option>
                                            <option value='PM'>생피에르 미클롱</option>
                                            <option value='EH'>서사하라</option>
                                            <option value='SN'>세네갈</option>
                                            <option value='CS'>세르비아 몬테네그로</option>
                                            <option value='SC'>세이셸</option>
                                            <option value='LC'>세인트루시아</option>
                                            <option value='VC'>세인트빈센트 그레나딘</option>
                                            <option value='KN'>세인트키츠 네비스</option>
                                            <option value='SH'>세인트헬레나</option>
                                            <option value='SO'>소말리아</option>
                                            <option value='SB'>솔로몬 제도</option>
                                            <option value='SD'>수단</option>
                                            <option value='SR'>수리남</option>
                                            <option value='LK'>스리랑카</option>
                                            <option value='SJ'>스발바르 얀마옌 제도</option>
                                            <option value='SE'>스웨덴</option>
                                            <option value='CH'>스위스</option>
                                            <option value='ES'>스페인</option>
                                            <option value='SK'>슬로바키아</option>
                                            <option value='SI'>슬로베니아</option>
                                            <option value='SY'>시리아</option>
                                            <option value='SL'>시에라리온</option>
                                            <option value='AE'>아랍에미리트</option>
                                            <option value='AW'>아루바</option>
                                            <option value='AM'>아르메니아</option>
                                            <option value='AR'>아르헨티나</option>
                                            <option value='AS'>아메리칸사모아</option>
                                            <option value='IS'>아이슬란드</option>
                                            <option value='HT'>아이티</option>
                                            <option value='IE'>아일랜드섬</option>
                                            <option value='AZ'>아제르바이잔</option>
                                            <option value='AF'>아프가니스탄</option>
                                            <option value='AD'>안도라</option>
                                            <option value='AL'>알바니아</option>
                                            <option value='DZ'>알제리</option>
                                            <option value='AO'>앙골라</option>
                                            <option value='AG'>앤티가 바부다</option>
                                            <option value='AI'>앵귈라</option>
                                            <option value='ER'>에리트레아</option>
                                            <option value='SZ'>에스와티니</option>
                                            <option value='EE'>에스토니아</option>
                                            <option value='EC'>에콰도르</option>
                                            <option value='ET'>에티오피아</option>
                                            <option value='SV'>엘살바도르</option>
                                            <option value='GB'>영국</option>
                                            <option value='VG'>영국령 버진아일랜드</option>
                                            <option value='IO'>영국령 인도양 지역</option>
                                            <option value='YE'>예멘</option>
                                            <option value='OM'>오만</option>
                                            <option value='AU'>오스트레일리아</option>
                                            <option value='AT'>오스트리아</option>
                                            <option value='HN'>온두라스</option>
                                            <option value='WF'>왈리스 퓌튀나</option>
                                            <option value='JO'>요르단</option>
                                            <option value='UG'>우간다</option>
                                            <option value='UY'>우르과이</option>
                                            <option value='UZ'>우즈베키스탄</option>
                                            <option value='UA'>우크라이나</option>
                                            <option value='IQ'>이라크</option>
                                            <option value='IR'>이란</option>
                                            <option value='IL'>이스라엘</option>
                                            <option value='EG'>이집트</option>
                                            <option value='IT'>이탈리아</option>
                                            <option value='IN'>인도</option>
                                            <option value='JM'>자메이카</option>
                                            <option value='ZM'>잠비아</option>
                                            <option value='GQ'>적도 기니</option>
                                            <option value='KP'>조선 민주주의 인민공화국</option>
                                            <option value='GE'>조지아</option>
                                            <option value='CF'>중앙아프리카 공화국</option>
                                            <option value='CN'>중화인민공화국</option>
                                            <option value='DJ'>지부티</option>
                                            <option value='GI'>지브롤터</option>
                                            <option value='ZW'>짐바브웨</option>
                                            <option value='TD'>차드</option>
                                            <option value='CZ'>체코</option>
                                            <option value='CL'>칠레</option>
                                            <option value='CM'>카메룬</option>
                                            <option value='CV'>카보베르데</option>
                                            <option value='KZ'>카자흐스탄</option>
                                            <option value='QA'>카타르</option>
                                            <option value='KH'>캄보디아</option>
                                            <option value='CA'>캐나다</option>
                                            <option value='KE'>케냐</option>
                                            <option value='KY'>케이맨 제도</option>
                                            <option value='KM'>코모로</option>
                                            <option value='CR'>코스타리카</option>
                                            <option value='CC'>코코스 제도</option>
                                            <option value='CI'>코트디부아르</option>
                                            <option value='CO'>콜롬비아</option>
                                            <option value='CG'>콩고</option>
                                            <option value='CD'>콩고 민주 공화국</option>
                                            <option value='CU'>쿠바</option>
                                            <option value='KW'>쿠웨이트</option>
                                            <option value='CK'>쿡 제도</option>
                                            <option value='HR'>크로아티아</option>
                                            <option value='CX'>크리스마스섬</option>
                                            <option value='KG'>키르기스스탄</option>
                                            <option value='KI'>키리바시</option>
                                            <option value='CY'>키프로스</option>
                                            <option value='TJ'>타지키스탄</option>
                                            <option value='TZ'>탄자니아 공화국</option>
                                            <option value='TC'>터크스 케이커스 제도</option>
                                            <option value='TR'>터키</option>
                                            <option value='TG'>토고</option>
                                            <option value='TK'>토켈라우</option>
                                            <option value='TO'>통가</option>
                                            <option value='TM'>투르크메니스탄</option>
                                            <option value='TV'>투발루</option>
                                            <option value='TN'>튀니지</option>
                                            <option value='TT'>트리니다드 토바고</option>
                                            <option value='PA'>파나마</option>
                                            <option value='PY'>파라과이</option>
                                            <option value='PK'>파키스탄</option>
                                            <option value='PG'>파푸아뉴기니</option>
                                            <option value='PW'>팔라우</option>
                                            <option value='PS'>팔레스타인 영토</option>
                                            <option value='FO'>페로 제도</option>
                                            <option value='PE'>페루</option>
                                            <option value='PT'>포르투칼</option>
                                            <option value='FK'>포클랜드 제도(말비나스 군도)</option>
                                            <option value='PL'>폴란드</option>
                                            <option value='PR'>푸에르토리코</option>
                                            <option value='GF'>프랑스령 기이나</option>
                                            <option value='TF'>프랑스령 남방 및 남극</option>
                                            <option value='PF'>프랑스령 폴리네시아</option>
                                            <option value='FJ'>피지</option>
                                            <option value='FI'>핀란드</option>
                                            <option value='PN'>핏케언 제도</option>
                                            <option value='HM'>허드 맥도널드 제도</option>
                                            <option value='HU'>헝가리</option>
                                            <option value='HK'>홍콩</option>
                                        </optgroup>
                                    </select>
                                    <button type="button" class="btn main-btn close-popup">확인</button>
                                </div>
                            </div>
                        </div>
                        <div class="w-100 d-flex align-items-end">
                            <button type="button" class="show-popup border-0 bg-white text-blue small"><i class="bi bi-info-circle-fill me-1"></i>여러 국가 여행시</button>
                            <div class="popup" hidden style="z-index: 2">
                                <div class="popup-content d-flex justify-content-center align-items-center">
                                    <h3>여러 국가 여행시 국가 선택</h3>
                                    <ol>
                                        <li>여러 국가 여행시 국가 선택은 첫번째 체류할 국가를 선택하시면 됩니다.</li>
                                        <li>여러국가를 여행하셔도 보험기간 동안은 모두 보장됩니다(단, 여행금지국가 등 3단계 이상의 여행경보지역 제외)</li>
                                        <li>여행지에 체코, 쿠바가 포함된 경우 여행국가를 체코, 쿠바로 선택해주세요.</li>
                                        <li>가입증명서에 기재된 여행국가는 언제든지 마이페이지에서 변경 가능하며, 이 경우 변경된 국가가 반영된 가입증명서를 이메일로 다시 받으실 수
                                            있습니다.
                                        </li>
                                    </ol>
                                    <button type="button" class="btn main-btn close-popup">확인</button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <!-- 보험료 계산 버튼 -->
                <button type="button" class="btn main-btn mb-3 w-75" id="calculate-btn" disabled="disabled">보험료 확인
                </button>
            </div>
            <div id="after-calculate">
                <!-- 입력정보 요약 -->
                <div class="" hidden="hidden" id="summary">
                    <div class="table-container mb-3">
                        <table class="mx-auto">
                            <tr>
                                <td class="text-end pe-2"><span>보험기간</span></td>
                                <td class="text-start"><span id="sum-period"></span></td>
                            </tr>
                            <tr>
                                <td class="text-end pe-2"><span>보험나이</span></td>
                                <td class="text-start"><span id="sum-age"></span></td>
                            </tr>
                            <tr>
                                <td class="text-end pe-2"><span>성별</span></td>
                                <td class="text-start"><span id="sum-clntGen"></span></td>
                            </tr>
                            <tr>
                                <td class="text-end pe-2"><span>여행국가</span></td>
                                <td class="text-start"><span id="sum-trPlace"></span></td>
                            </tr>
                        </table>
                    </div>


                </div>
                <!-- 보험료 계산결과/담보 리스트 -->
                <div class="calculate-result" hidden="hidden">
                    <div class="d-flex justify-content-between" id="cov-tabs">

                    </div>
                    <div class="coverage-list"></div>
                    <!-- 가입신청 1인 동승자 버튼 -->
                    <div class="d-flex justify-content-between">
                        <div class="w-100 p-3">
                            <button type="button" class="btn main-btn" id="apply-alone">1인 가입</button>
                        </div>
                        <div class="w-100 p-3">
                            <button type="button" class="btn main-btn" id="apply-many">2인 이상 가입</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>


</div>
<div class="footer">
</div>
</body>
<script src="/js/commonjs.js"></script>
</html>